<!DOCTYPE html>
<html lang='es'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel='stylesheet' href='style.css'>  
    <script type="module" src="main.js"></script>

    <script type="module" src="/clases/Enemigo.js"></script>
    <script type="module" src="/clases/Jefe.js"></script> 
    <script type="module" src="/clases/Jugador.js"></script>
    <script type="module" src="clases/Producto.js"></script>

    <script type="module" src="/utils/constants.js"></script>
    <script type="module" src="/utils/utils.js"></script>

    <script type="module" src="/model/mercado.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">

    <title>Aventura en el Reino de js</title>
</head>
<body>
 
  <!-- Panel del juego -->
   <main>
    <div id="game-container">

        <!--1. ESCENA 1 Inicial del jugador -->
        <section id="scene-start" class="game-scene active-scene"> 
            <h3>El Reino de Dragones</h3>
            
            <div id="player-card-initial">
                <img src="img/astrid1.png" alt="Avatar de la jugadora" id="player-avatar-img">
                <p><span id="player-name-start"><b>Vikinga</b></span></p>
                
                <div class="stats-grid">
                    <div class="stat-box">Ataque: <span id="stat-attack-start">0</span></div>
                    <div class="stat-box">Defensa: <span id="stat-defense-start">0</span></div>
                    <div class="stat-box">Vida: <span id="stat-life-start">100</span></div>
                    <div class="stat-box">Puntos: <span id="stat-points-start">0</span></div>
                </div>
                
                <button id="btn-start-adventure" class="btn-continue">Continuar</button>
            </div>
        </section>

        <!--2. ESCENA 2 del Mercado Negro-->
        <section id="scene-market" class="game-scene hidden-scene"> 
            <h3>Escena 2 - Mercado Negro</h3>
            
            <!-- Lista de productos, del mercado -->
            <div id="product-list" class="market-grid"> 
                
                <button class="btn-toggle">Añadir</button>
            </div>
            
            <!-- Productos comprados, se añaden a la cesta -->
            <div id="cart-display" class="cart-grid"> 

            </div>

            <!-- Inventario -->
            <div id="inventario-container">
        
                <div id="inventory-list-updated" class="cart-grid"></div>
            </div>
            
            <button id="btn-go-to-stats" class="btn-continue">Continuar</button> 
        </section>

        <!-- 3. ESCENA 3 del estado actual del jugador después de comprar-->
        <section id="scene-updated-stats" class="game-scene hidden-scene">
            <h3> Escena 3 - Estado actual de la jugadora</h3>
            
            <div id="player-card-initial">
                <img src="img/astrid1.png" alt="Avatar del Jugador" id="player-avatar-img">
                <p><span id="player-name-updated"><b>Vikinga</b></span></p>

                <div class="stats-grid">
                    <div class="stat-box">Ataque: <span id="stat-attack-updated">0</span></div>
                    <div class="stat-box">Defensa: <span id="stat-defense-updated">0</span></div>
                    <div class="stat-box">Vida Total: <span id="stat-life-updated">100</span></div> 
                    <div class="stat-box">Puntos: <span id="stat-points-updated">0</span></div>
                </div>

                <!-- Inventario -->
            <div id="player-inventory-updated">
                
                <div id="inventory-list-updated" class="cart-grid"></div>
                </div>
                
                <button id="btn-go-to-enemies" class="btn-continue">Continuar</button>
            
        </section>

        <!-- 4. ESCENA 4 Enemigos-->
        <section id="scene-enemies" class="game-scene hidden-scene">
            <h3>Escena 4 - Enemigos</h3>
            
            <div id="enemy-selection-list" class="enemies-grid">

            </div>

            <button id="btn-continue-enemies" class="btn-continue">Continuar</button>

        </section>

        <!--5. ESCENA 5 Batallas -->
        <section id="scene-battle" class="game-scene hidden-scene">
            <h3>Escena 5 - Combates</h3>
            
           <div id="battle-display" class="battle-area">
            <div class="combatants-info">

                <div class="player-side">
                    <img src="./img/astrid1.png" alt="Jugadora" id="battle-player-image" class="combat-avatar">
                    <p id="battle-player-name">Astrid</p>
                    <p>Vida: <span id="battle-player-life"></span></p>
                </div>
            
                <span class="vs-text">VS</span>

                <div class="enemy-side">
                    <img src="" alt="Enemigo" id="battle-enemy-image" class="combat-avatar"> 
                    <p id="battle-enemy-name"></p> 
                    <p>Vida: <span id="battle-enemy-life"></span></p>
                </div>
           </div>

            <div class="combat-log" id="battle-result">
                <p>Resultado del golpe:</p>
            </div>

            <div id="battle-points-total">
                <p><strong>Puntos Totales:</strong> <span id="player-total-points">0</span></p>
            </div>

            <button id="btn-next-battle" class="btn-continue">Continuar</button> 
        
            <!-- INVENTARIO -->
            <div id="inventory-display-battle">
                
                <div id="battle-inventory-list" class="cart-grid">
                    </div>
            </div>
        </section>

        <!-- ESCENA 6 Final del juego -->
        <section id="scene-final" class="game-scene hidden-scene">
            <h3>Escena 6 Resultado Final</h3>

            <div id="final-message"></div>

            <div id="final-stats">
                <p>Estadísticas de la jugadora</p>
            </div>

            <!-- <div class="final-result-box"> -->
                <button id="btn-restart" class="btn-continue">Reiniciar Juego</button> 
            
            <!-- INVENTARIO -->
            <div id="final-inventory">
                <div id="final-inventory-list" class="cart-grid">
                    </div>
            </div>
        </section>

        </div>
    </main>

        <footer id="footer">
            <p> &copy; 2025 Aventura en el reino de dragones</p>
        </footer>

</body>
</html>

